<div class="chapter-form-container">
  <div class="form-header">
    <h1>Add Chapter</h1>
    <p>Create a new chapter for your story</p>
  </div>

  <% if (errors && errors.length) { %>
  <div class="error-messages">
    <ul>
      <% errors.forEach(e => { %><li><%= e %></li><% }) %>
    </ul>
  </div>
  <% } %>

  <form action="/story/<%= formData.username %>/<%= formData.vanity %>/chapter/add" method="POST">
    <div class="form-group">
      <label for="chapter_num">Chapter Number <span class="required">*</span></label>
      <input type="number" id="chapter_num" name="chapter_num" required value="<%= formData.chapter_num %>" class="form-control">
    </div>

    <div class="form-group">
      <label for="chapterTitle">Title<span class="required">*</span></label>
      <input type="text" id="chapterTitle" name="title" required maxlength="100" value="<%= formData.title %>" class="form-control">
      <div class="character-count">
        <span id="titleCount">0</span>/100 characters
      </div>
    </div>

    <div class="form-group">
      <label for="content">Content <span class="required">*</span></label>
      <textarea id="content" name="content" rows="10" required class="form-control"><%= formData.content %></textarea>
      <div class="form-help">Use Markdown for formatting your chapter content</div>
    </div>

    <div class="button-group">
      <button type="submit" class="btn btn-primary">Create Chapter</button>
      <a href="/story/<%= formData.username %>/<%= formData.vanity %>" class="btn btn-secondary">Cancel</a>
    </div>
  </form>
</div>